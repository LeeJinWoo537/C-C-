# C++ 구조체, 공용체, 열거체

## 구조체 (Struct)

### 기본 개념
구조체는 서로 다른 데이터 타입을 하나의 단위로 묶어서 관리할 수 있는 사용자 정의 데이터 타입입니다.

### 구조체 정의와 사용

```cpp
/// 구조체 ///
struct st {
    string name;
    string position;
    int height;
    int weight;
} B, C;        // main에서 선언안해도 이렇게 먼저 구조체 변수를 선언 할 수 있음

int main() {
    st A = {      // main에서 구조체 변수를 선언
        "son",
        "striker",
        183,
        77
    };

    B = {         // 구조체 변수를 먼저 선언 해줘서 st를 안붙여도 됌
       "s",
       "srtir",
       180,
       70
    };

    C = {         // 구조체 변수를 선언하고 값을 안써도 됌 이렇게 출력 하면 문자열은 아무것도 안나오고 정수는 0이 나옴
        
    };

    st D[2] = {          // 구조체 배열 변수
    { "A", "A", 1, 1 },
    { "B", "B", 1,  1 }
    };

    cout << A.name << endl;
    cout << A.position << endl;
    cout << A.height << endl;
    cout << A.weight << endl; 

    cout << B.name << endl;
    cout << B.position << endl;
    cout << B.height << endl;
    cout << B.weight << endl;

    cout << C.height << endl;     // 구조체 변수 C에는 값이 없기 때문에 출력하면 0이 나옴

    cout << D[0].height << endl;
    printf("%d\n", D[0].height);

    return 0;
}
```

### 구조체의 특징
1. **미리 선언**: 구조체 정의와 동시에 변수 선언 가능 (`B, C`)
2. **초기화**: 중괄호 `{}`를 사용하여 초기화
3. **배열**: 구조체 배열도 가능
4. **기본값**: 초기화하지 않으면 문자열은 빈 값, 정수는 0

## 공용체 (Union)

### 개념
공용체는 서로 다른 데이터형을 한 번에 한 가지만 보관할 수 있는 데이터 타입입니다. 모든 멤버가 같은 메모리 공간을 공유합니다.

### 공용체 예제

```cpp
/////////////////////////////////////////////////////////////////////
/// 공용체 ///
/* 서로 다른 데이터형을 한 번에 한 가지만 보관할 수 있음 */
union st
{
   int intval;
   long longval;
   float floatval;
};

int main() {
    st test;

    test.intval = 3;
    cout << test.intval << endl;      // 출력 값: 3
    test.longval = 33;
    cout << test.intval << endl;      // 출력 값: 33
    cout << test.longval << endl;   // 출력 값: 33
    test.floatval = 3.3;
    cout << test.intval << endl;      // 출력 값: 주소값
    cout << test.longval << endl;   // 출력 값: 주소값
    cout << test.floatval << endl;   // 출력 값: 3.3
    
    return 0;
}
```

### 공용체의 특징
1. **메모리 공유**: 모든 멤버가 같은 메모리 공간을 공유
2. **한 번에 하나**: 한 번에 하나의 데이터 타입만 유효
3. **메모리 절약**: 가장 큰 멤버의 크기만큼 메모리 할당
4. **데이터 덮어쓰기**: 새로운 값을 할당하면 이전 값이 덮어써짐

## 열거체 (Enum)

### 개념
열거체는 기호 상수를 만드는 것에 대한 또다른 방법입니다. 정수 값에 이름을 부여하여 코드의 가독성을 높입니다.

### 열거체 예제

```cpp
////////////////////////////////////////////////////////////////
/// 열거체 ///
/* 기호 상수를 만드는 것에 대한 또다른 방법 */
enum st
{
   red, orange, yellow, green, blue, violet, indigo, ultraviolet   // 중간에 값을 넣어도 됌 red = 5, orange = 10 대신에 그다음에 넣어주는 값이 없으면 다음 값은 1씩 증가 됌 그러면 yellow = 11이 됌 그리고 정수만 값을 넣을 수 있음
};
// red, orange, yellow... 0에서부터 7까지 정수 값을 각각 나타내는 기호 상수로 만듬

int main() {
    st A = orange;            // st A = orange + 1 이렇게 만들면 안됌, st A = orange + red 이렇게 만들어도 안됌

    cout << A << endl;     // 출력 값: 1

    int b;                        // 이런식으로 기본 변수로 만들어서 더하는거는 됌
    b = blue;                  // 대신 b = blue + red 이거는 안됌
    b = blue + 3;            // 기호 상수 blue = 4 + 3 = 7

    cout << b << endl;    // 출력 값: 7
    
    return 0;
}
```

### 열거체의 특징
1. **자동 할당**: 첫 번째 값은 0부터 시작하여 1씩 증가
2. **수동 할당**: 특정 값 지정 가능 (`red = 5, orange = 10`)
3. **정수만**: 정수 값만 할당 가능
4. **연산 제한**: 열거체 타입끼리는 직접 연산 불가
5. **정수 변환**: 정수 변수로 변환하여 연산 가능

### 열거체 값 할당 규칙
- `red = 0, orange = 1, yellow = 2, green = 3, blue = 4, violet = 5, indigo = 6, ultraviolet = 7`
- 특정 값 지정시: `red = 5, orange = 10` → `yellow = 11` (자동 증가)

## 구조체 vs 클래스

### 공통점
- 둘 다 사용자 정의 데이터 타입
- 멤버 변수와 멤버 함수 포함 가능
- 접근 제어자 사용 가능

### 차이점
- **구조체**: 기본 접근 제어자가 `public`
- **클래스**: 기본 접근 제어자가 `private`

## 실제 사용 예제

### 구조체를 사용한 학생 정보 관리

```cpp
struct Student {
    string name;
    int age;
    float grade;
    string major;
};

int main() {
    Student students[3] = {
        {"김철수", 20, 3.5, "컴퓨터공학"},
        {"이영희", 19, 3.8, "수학"},
        {"박민수", 21, 3.2, "물리학"}
    };

    for (int i = 0; i < 3; i++) {
        cout << "이름: " << students[i].name << endl;
        cout << "나이: " << students[i].age << endl;
        cout << "성적: " << students[i].grade << endl;
        cout << "전공: " << students[i].major << endl;
        cout << "-------------------" << endl;
    }

    return 0;
}
```

### 열거체를 사용한 상태 관리

```cpp
enum Status {
    IDLE = 0,
    RUNNING = 1,
    PAUSED = 2,
    STOPPED = 3
};

int main() {
    Status currentStatus = IDLE;
    
    cout << "현재 상태: " << currentStatus << endl;  // 0
    
    currentStatus = RUNNING;
    cout << "현재 상태: " << currentStatus << endl;  // 1
    
    return 0;
}
```

## 주요 포인트

1. **구조체**:
   - 서로 다른 데이터 타입을 하나로 묶음
   - 기본 접근 제어자가 `public`
   - 배열과 초기화 지원

2. **공용체**:
   - 메모리 공간을 공유
   - 한 번에 하나의 데이터 타입만 유효
   - 메모리 절약 효과

3. **열거체**:
   - 기호 상수 생성
   - 자동 값 할당 (0부터 시작)
   - 코드 가독성 향상

4. **사용 시기**:
   - **구조체**: 관련된 데이터를 묶어서 관리할 때
   - **공용체**: 메모리를 절약하고 한 번에 하나의 타입만 사용할 때
   - **열거체**: 상수 값에 의미있는 이름을 부여할 때
